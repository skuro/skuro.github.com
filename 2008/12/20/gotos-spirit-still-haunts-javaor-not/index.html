<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html>
  <head>
    <title>SKURO! -- Shading lights</title>
    <meta name="generator" content="skuro.tk/0.1 | jekyll/0.11.0" />
    <meta charset="utf-8" />
    <meta name="description" content="Personal Blog of Carlo Sciolla" />
    <meta name="keywords" content="clojure,enlive,moustache,java,alfresco,lambdalf,performance" />
    <link rel="stylesheet" href="/stylesheets/styles.css" />
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css" />
    <link rel="stylesheet" href="/stylesheets/skuro.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="adsense">
      <script type="text/javascript"><!--
                                         google_ad_client = "ca-pub-5536661153340295";
                                         /* ghpages-skyscraper */
                                         google_ad_slot = "1277668326";
                                         google_ad_width = 120;
                                         google_ad_height = 600;
                                         //-->
      </script>
      <script type="text/javascript"
              src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
      </script>
    </div>
    <div class="wrapper">
      <header>
        <h1><a href="/">SKURO!</a></h1>
        <ul>
          <li><a href="/archive">Browse the <strong>Archive</strong></a></li>
          <li><a href="/category">Browse by <strong>Categories</strong></a></li>
          <li><a href="/about">Learn more <strong>About me</strong></a></li>
        </ul>
        <p class="persona">
          <a href="https://github.com/skuro"><img src="/img/github.png" /></a>
          <a href="http://nl.linkedin.com/in/carlosciolla"><img src="/img/linkedin.png" /></a>
          <a href="https://twitter.com/skuro"><img src="/img/twitter.png" /></a>
          <a href="/rss2.xml"><img src="/img/rss.png" /></a>
          <span>shading lights</span>
        </p>
      </header>
      
      <section>
        <div class="post">
  <h1>
  GOTO's spirit still haunts Java...
  <a href="/2008/12/20/gotos-spirit-still-haunts-javaor-not">
    <img src="/img/link.jpg" alt="Permalink to GOTO's spirit still haunts Java..." />
  </a>
</h1>
<blockquote class="date-wrapper">
  <h5 class="date">
    December 20, 2008
    
    - tagged &nbsp;
    
    <a href="/category/java">#java</a><span>&nbsp;&nbsp;</span>
    
    
  </h5>
</blockquote>

  
  <p>Some days ago I was debugging some LDAP-related customizations I made on <a title="Alfresco ECM" href="http://www.alfresco.com" target="_blank">Alfresco</a>, and I run into an odd piece of code which made my eyebrow raise: labeled <code>break</code> (and <code>continue</code>) statements. Believe it or not, labels are still there, and someone still uses them. Here's a dumb example:</p>

<pre><code>String[] someStrings = getStringsFromSomewhere ();
String[] patterns = getPatternsFromSomewhereElse ();
// find a string which matches one of the patterns
// and send it to someone
outer:
for (String s : strings)
{
  for (String pattern : patterns)
  {
    if (str.matches(pattern))
    {
       sendMessage (str);
       break outer;
    }
  }
}
</code></pre>

<p>Using lables, we're now to break the <strong>outer</strong> loop while still inside the <strong>inner</strong> loop. Even if this example code is somewhat clear and straightforward, and it could be handy to use lables in nested loops, with more complex logic and/or with an extensive use of labels, the code can easily became unreadable, with a taste of spaghetti a' la' GOTO.</p>

<p>Anyway, labels can still be used in a clever way, and many renowned code makes use of them. Most notably, <a title="String class sources" href="http://docjar.org/html/api/java/lang/String.java.html" target="_blank"><code>java.lang.String</code></a> contains some good examples (<code>toLowerCase</code> and <code>toUpperCase</code>) which are worth some minutes to understand how they work.</p>

<p>UPDATE:
it turned out, <b>labels can be attached on every kind of statement</b>, not only on loops. Thus this code is still valid Java&trade; code, though it maybe lacks common sense:</p>

<pre><code>public class Ugly
{
  public static void main (String[] argv)
  {
    int tmp = 0;
    LABEL:
    {
      ++tmp;
      System.out.println ("before breaking");
      if (true)
        break LABEL;
        System.out.println ("after breaking");
    }
  }
}
</code></pre>

<p>As you can imagine, the second <code>println</code> is neved executed, since the labeled <code>break</code> statement makes the program jump to the end of the labeled statement.
Could you find any reason to give ground for such a code?</p>

<p>Bye!</p>

  
  <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'skuro';
//    var disqus_id = '/2008/12/20/gotos-spirit-still-haunts-javaor-not';
//    var disqus_url = [location.protocol, '//', location.host, location.pathname].join('');

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

  

</div>

      </section>

    </div>
    <footer>
      <p><a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0;margin-bottom:10px" alt="Creative Commons License" /></a> licensed under a Creative Commons <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license">license</a>
      <p><span rel="dct:type" property="dct:title" href="http://purl.org/dc/dcmitype/Text">SKURO! blog</span> by <a rel="cc:attributionURL" property="cc:attributionName" href="http://skuro.tk">Carlo Sciolla</a></p>
    </footer>

    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try{ 
      var pageTracker = _gat._getTracker("UA-6754361-1");
      pageTracker._trackPageview();
      } catch(err) {} 
    </script>

  </body>
</html>
